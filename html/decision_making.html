1<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	<title>DSS Decision Making</title>
	<meta name="description" content="DSS Prototype">
	<meta name="author" content="C Blythe">

	<!--  Remove favicon.ico request to stop error  -->
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">

	<!-- Material Design Lite -->
	<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
	<!-- Material Design Lite colour scheme-->
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css" />
	<!-- Material Design icon font -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<!-- Roboto font -->
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">

	<link href="../css/dss.css" rel="stylesheet" type="text/css">
	<script src="../libs/jquery-3.2.1.min.js"></script>
	<!-- Ractive library TODO - change from CDN-->
	<script src="https://cdn.jsdelivr.net/npm/ractive"></script>

	<!-- Project object definition + manager-->
	<script src="../js/problem.js"></script>
	<!-- DSS model script -->
	<script src="../js/DSS_model.js"></script>
	<!-- Problem manager object - interaction between web page and problem data object -->
	<script src="../js/problemManager.js"></script>

	<!-- Main page script -->
	<script src="../js/decision_making.js"></script>



	<!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
    <![endif]-->

</head>

<body>
	<!-- <div class="container"> -->

		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

			<header class="mdl-layout__header">
				<div class="mdl-layout__header-row">
					<!-- Title -->
					<span class="mdl-layout-title">Decision Making</span>
				</div>
				<!-- Tabs -->
				<div class="mdl-layout__tab-bar mdl-js-ripple-effect">
					<a class="mdl-layout__tab is-active" href="#page-1">Problem Setup</a>
					<a class="mdl-layout__tab" href="#page-2">Data Entry</a>
					<a class="mdl-layout__tab" href="#page-3">Results</a>
					<a class="mdl-layout__tab" href="#page-4">Instructions</a>
					<a class="mdl-layout__tab mdl-color--red-400" href="#page-5">Save / Load</a>
				</div>
			</header>


			<!-- CONTENT ************************************************************* -->
			<main class="mdl-layout__content">

				<!-- PROBLEM SETUP PAGE ********************************************** -->
				<section class="mdl-layout__tab-panel is-active" id="page-1">
					<div class="page-content">

						<!-- Problem Setup -->
						<h4>Problem Setup</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- Project Title -->

						<!-- TARGET ractiveTitle -->
						<div id="target-title-table"></div>

						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-title-table" type="text/ractive">

							<table class="mdl-data-table  mdl-js-data-table mdl-shadow--4dp narrow">
								<tr>
									<td class="narrow">
										<h5>Problem Title: </h5>
									</td>
									<td class="mdl-data-table__cell--non-numeric fillWidth narrow">
										<div class="mdl-textfield mdl-js-textfield">
											<input class="mdl-textfield__input" type="text" id="problem-title" value="{{title}}">
											<label class="mdl-textfield__label">Problem Title...</label>
										</div>
									</td>
								</tr>
							</table>

						</script>

						<!-- Problem Alternatives -->
						<h4>Alternative solutions</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>


						<!-- TARGET ractiveAlternatives -->
						<div id="target-alternatives-table"></div>

						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-alternatives-table" type="text/ractive">

							<table class="mdl-data-table  mdl-js-data-table mdl-shadow--4dp narrow" id="alternative-table">
								<thead>
									<tr>
										<th class="mdl-data-table__cell--non-numeric">
											<h5>Alternatives</h5>
										</th>
									</tr>
								</thead>
								<!-- TODO Limit Alternative names to 14 chars -->

								<tbody>
									{{#each alternatives:i}}
									<tr>
										<td class="mdl-data-table__cell--non-numeric narrow">
											<div class="mdl-textfield mdl-js-textfield">
												<input class="mdl-textfield__input alternative" type="text" value="{{.}}">
												<label class="mdl-textfield__label">Alternative...</label>
											</div>
										</td>
									</tr>
									{{/each}}
								</tbody>
							</table>

						</script>



						<!-- Buttons layout table -->
						<table class="button-table narrow">
							<tbody>
								<tr>
									<td>
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" type="button" id="add-alternative">Add Alternative</button>
									</td>
									<td>
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" type="button" id="remove-alternative" style="float: right">Remove Alternative</button>
									</td>
								</tr>
							</tbody>
						</table>




						<!-- Problem Factors -->
						<h4>Decision Factors</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- TARGET ractiveAlternatives -->
						<div id="target-factors-table"></div>

						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-factors-table" type="text/ractive">

							<table class="mdl-data-table  mdl-js-data-table mdl-shadow--4dp narrow" id="factors-table">
								<thead>
									<tr>
										<th class="mdl-data-table__cell--non-numeric">
											<h5>Factors</h5>
										</th>
									</tr>
								</thead>

								<tbody>
									{{#each factors:i}}
									<tr>
										<td class="mdl-data-table__cell--non-numeric narrow">
											<div class="mdl-textfield mdl-js-textfield">
												<input class="mdl-textfield__input factor" type="text" value="{{name}}">
												<label class="mdl-textfield__label">Factor...</label>
											</div>
										</td>
									</tr>
									{{/each}}
								</tbody>
							</table>
						</script>

						<!-- Buttons layout table -->
						<table class="button-table narrow">
							<tbody>
								<tr>
									<td>
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" type="button" id="add-factor">Add Factor</button>
									</td>
									<td>
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" type="button" id="remove-factor" style="float: right">Remove Factor</button>
									</td>
								</tr>
							</tbody>
						</table>

					</div>

					<!-- TODO - REMOVE -->
					<br><br><br>
					<div class="test-div">
					</div>
				</section>


				<!-- DATA ENTRY PAGE ************************************************* -->
				<section class="mdl-layout__tab-panel" id="page-2">
					<div class="page-content">
						<h4>Data Entry</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- Problem Factors -->
						<h4>Factors Criteria</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- TARGET ractiveAlternatives -->
						<div id="target-data-table"></div>



						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-data-table" type="text/ractive">

							<!-- Create full table for each Factor -->
							{{#each factors:i}}
							<table class="mdl-data-table mdl-js-data-table mdl-shadow--4dp criteria-table" id="criteria-1-table">
								<thead>
									<tr>
										<!-- First header with Factor name -->
										<th class="mdl-data-table__cell--non-numeric width300 hlBlue">
											<h5>{{name}} Criteria</h5>
										</th>

										<!-- Repeat headers for each Alternative -->
										{{#each alternatives}}
										<!-- For testing paste 14charsaaaaaax into Alt names -->
										<th class="mdl-data-table__cell--non-numeric mdl-data-table__cell--center width150 hlGreen number">
											<h6>{{.}}</h6><b>%</b>
										</th>
										{{/each}}
										<!-- Final header -->
										<th class="mdl-data-table__cell--non-numeric mdl-data-table__cell--center width150 hlBlue">
											<h5>Weight</h5>%
										</th>

									</tr>
								</thead>

								<tbody>
									<!-- ALTERNATIVES ROWS ADDED DYNAMICALLY HERE -->
									<!-- Create row for each Criteria -->
									{{#each criteria}}
									<tr>
										<!-- First cell - Criteria name field -->
										<td class="mdl-data-table__cell--non-numeric narrow hlBlue">
											<div class="mdl-textfield mdl-js-textfield">
												<input class="mdl-textfield__input" type="text" value="{{name}}">
												<label class="mdl-textfield__label">Criteria...</label>
											</div>
										</td>
										<!-- Create wieght input cell for each alternative -->
										{{#each alternativeWeights}}
										<td class="mdl-data-table__cell mdl-data-table__cell--center narrow number hlGreen">
											<div class="mdl-textfield mdl-js-textfield number">
												<!-- Input validation - numbers 0-100 -->
												<input class="mdl-textfield__input number" type="text" pattern="[0-9]|[1-9][0-9]|100" value="{{.}}">
												<label class="mdl-textfield__label">0-100</label>
												<span class="mdl-textfield__error percentage">Percentage 0-100</span>
											</div>
										</td>
										{{/each}}

										<td class="mdl-data-table__cell mdl-data-table__cell--center narrow number  hlBlue" id="lastNumber">
											<div class="mdl-textfield mdl-js-textfield number">
												<!-- Input validation - numbers 0-100 -->
												<input class="mdl-textfield__input number" type="text" pattern="[0-9]|[1-9][0-9]|100" value="{{weight}}">
												<label class="mdl-textfield__label">0-100</label>
												<span class="mdl-textfield__error percentage">Percentage 0-100</span>
											</div>
										</td>
									</tr>
									{{/each}}
								</tbody>
							</table>

							<!-- Buttons layout table -->
							<table class="button-table">
								<tbody>
									<tr>
										<td>
											<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored add-criteria" type="button" data-id="{{i}}" id='add-criteria{{i}}'>Add Criteria {{i}}</button>
										</td>
										<td>
											<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored remove-criteria" type="button" style="float: right" data-id="{{i}}" id='remove-criteria{{i}}' {{#if criteria.length<=1}} disabled='true' {{/if}}>Remove Criteria</button>
										</td>
									</tr>
								</tbody>
							</table>
							<br /> {{/each}}

						</script>

						<!-- TODO - REMOVE -->
						<br><br><br>
						<div class="test-div">
						</div>




					</div>
				</section>

				<!-- RESULTS PAGE **************************************************** -->
				<section class="mdl-layout__tab-panel" id="page-3">
					<div class="page-content">

						<!-- Analysis Summary table -->

						<h4>Analysis Summary</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- TARGET ractiveSummary -->
						<div id="target-summary-table"></div>

						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-summary-table" type="text/ractive">

							<!-- Create summery table for all factors/alternatives showing degrees of belief -->
							<table class="mdl-data-table mdl-js-data-table mdl-shadow--4dp summary-table" id="summary-table">
								<thead>
									<tr>
										<!-- First header with Factor name -->
										<th class="mdl-data-table__cell--non-numeric width300">
											<h6>Degrees of Belief</h6>
										</th>

										<!-- Repeat headers for each Alternative -->
										{{#each alternatives}}
										<!-- For testing paste 14charsaaaaaax into Alt names -->
										<th class="mdl-data-table__cell--non-numeric mdl-data-table__cell--center width150 hlGreen number">
											<h6>{{.}}</h6>
										</th>
										{{/each}}

										<!-- Final header for Ignorance -->
										<th class="mdl-data-table__cell--non-numeric mdl-data-table__cell--center width150 hlGray number">
											<h6>Ignorance</h6>
										</th>

									</tr>
								</thead>

								<tbody>
									<!-- FACTORS ROWS ADDED DYNAMICALLY HERE -->
									<!-- Create row for each Factor -->
									{{#each factors}}
									<tr>
										<!-- First cell - Factor name field -->
										<td class="mdl-data-table__cell--non-numeric narrow hlBlue">
											<h6>{{name}} Factors</h6>
										</td>
										<!-- Display Belief from problem.factor.Beliefs -->
										{{#each BeliefPercentages}}
										<td class="mdl-data-table__cell mdl-data-table__cell--center narrow number hlYellow">
											<h6>{{.}}</h6>
										</td>
										{{/each}}
										<!-- Final cell - display Ignorance for each factor -->
										<td class="mdl-data-table__cell mdl-data-table__cell--center narrow number hllightGray">
											<h6>{{IgnorancePercentage}}</h6>
										</td>
									</tr>
									{{/each}}
								</tbody>
							</table>

						</script>

						<!-- Analysis Summary table -->

						<h4>Assessment Aggregation</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

						<!-- TARGET ractiveSummary -->
						<div id="target-factor-weights-table"></div>

						<!-- TEMPLATE ractiveAlternatives -->
						<script id="template-factor-weights-table" type="text/ractive">
							<table class="mdl-data-table mdl-js-data-table mdl-shadow--4dp criteria-table" id="criteria-1-table">
								<thead>
									<tr>
										<!-- First header with Factor name -->
										<th class="mdl-data-table__cell--non-numeric width300 hlBlue">
											<h5>Factors</h5>
										</th>

										<!-- Final header -->
										<th class="mdl-data-table__cell--non-numeric mdl-data-table__cell--center width150 hlBlue">
											<h5>Weight</h5>%
										</th>

									</tr>
								</thead>

								<tbody>
									<!-- FACTORS ROWS ADDED DYNAMICALLY HERE -->
									<!-- Create row for each Factor -->
									{{#each factors}}
									<tr>
										<!-- First cell - Factor name field -->
										<td class="mdl-data-table__cell--non-numeric narrow hlBlue">
											<h6>{{name}}</h6>
										</td>
										<!-- Create wieght input cell for each factor -->

										<td class="mdl-data-table__cell mdl-data-table__cell--center narrow number hlGreen">
											<div class="mdl-textfield mdl-js-textfield number">
												<!-- Input validation - numbers 0-100 -->
												<input class="mdl-textfield__input number summaryInput" type="text" pattern="[0-9]|[1-9][0-9]|100" value="{{Weight}}">
												<label class="mdl-textfield__label">0-100</label>
												<span class="mdl-textfield__error percentage">Percentage 0-100</span>
											</div>
										</td>


									</tr>
									{{/each}}

								</tbody>
							</table>

						</script>

						<h5>Aggregated Degrees of Belief</h5>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>

					</div>
				</section>



				<!-- INSTRUCTIONS PAGE *********************************************** -->
				<section class="mdl-layout__tab-panel" id="page-4">
					<div class="page-content">
						<h4>Instructions</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>
					</div>
				</section>

				<!-- SAVE / LOAD PAGE ************************************************ -->
				<section class="mdl-layout__tab-panel" id="page-5">
					<div class="page-content">
						<h4>Save / Load</h4>
						<p>Placeholder instruction text - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce vel laoreet nisi, non congue lorem. Quisque commodo, tellus eu vestibulum sollicitudin, tortor nisi mattis dolor, vel tristique mi sapien in ipsum.</p>
					</div>
				</section>
			</main>

		</div>


	<!-- </div> -->



</body>

</html>
